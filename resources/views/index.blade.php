<!DOCTYPE html>
<html lang="en">

<head>
    <title>Showcase of Detiknetwork Salesproduct</title>
    <meta name="description" content="One stop detiknetwork Digital Business toolkit. Find everything you need here!" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <meta name="googlebot" content="noindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdnstatic.detik.com/live/html5/sales-product-source/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="{{ asset('css/sp-style.css?v3') }}" rel="stylesheet">
    <link href="{{ asset('css/story.css?v3') }}" rel="stylesheet">
    <link href="{{ asset('css/search-style.css') }}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flickity/1.0.0/flickity.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flickity/1.0.0/flickity.pkgd.js"></script>
    <script src="{{ asset('js/sp.js') }}"></script>

    <!-- Ace.JS Code Editor -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.16.0/ace.js"></script> -->

    <!-- Selectize.js Search Input -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css" integrity="sha512-pTaEn+6gF1IeWv3W1+7X7eM60TFu/agjgoHmYhAfLEU8Phuf6JKiiE8YmsNC0aCgQv4192s4Vai8YZ6VNM6vyQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js" integrity="sha512-IOebNkvA/HZjMM7MxL0NYeLYEalloZ8ckak+NDtOViP7oiYzG5vn6WVXyrJDiJPhl4yRdmNAG49iuLmhkUdVsQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <!-- Later, delete selectize.js then use select2; Used in channel profile, microsite -->

    <!-- Select2 Search Input -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> -->

    <!-- Google tag (gtag.js) -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-L68GMXR573"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-L68GMXR573');
    </script> -->

    <!-- TwentyTwenty CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/zurb-twentytwenty@0.1.1/css/twentytwenty.min.css"> -->
    <!-- TwentyTwenty JS -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/zurb-twentytwenty@0.1.1/js/jquery.twentytwenty.min.js"></script> -->

    <!-- Swiper JS -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> -->

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark sticky-top p-3" id="main-navbar" style="z-index: 999">
            <img src="images/logo-new.png" alt="logo">
            <div class="container-fluid">
                <a class="navbar-brand d-lg-none" href="\showcase"><img src="images/logo-new.png"
                        style="filter: brightness(0) invert(1); width:150px;"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"><i class="fas fa-bars"></i></span>
                </button>
            </div>
        </nav>
    </header>

    <main class="container mt-4">
        <div class="row g-2">
            <div class="card-header text-uppercase mb-5 text-center">
                <h3 class="fw-bolder"><i class="fa-solid fa-rectangle-ad"></i> CPD Display Banner</h3>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-9 mb-3">
                <div class="input-group mb-4 p-2 rounded-pill shadow border border-dark">
                    <i class="fa-solid fa-magnifying-glass p-2"></i>
                    <input type="text" name="q" class="form-control border-0 shadow-none" autofocus="true" id="search-ms" onkeyup="FunctionSearch()" placeholder="Search Banner's or inventory name...">
                </div>
            </div>
        </div>

        <!-- Search Banner -->
        <div class="row row-cols-1 row-cols-md-12 row-cols-lg-12 g-4" id="searchM" style="display: none">
            <table id='premium-tbl' class='table-banner table'>
                @foreach ($listbanner as $LM)
                <tr>
                    <td>
                        <div class="card h-100 rounded-7 jumping" style="background-color: darkslateblue;">
                            <div class="card-body row">
                                <div class="col-sm-12 col-lg-7 col-xl-6">
                                    <img class="card-img-top img-fluid rounded-7 rounded-bottom lazyload w-100 p-2" data-src="{{ $LM->image }}" src="https://cdnstatic.detik.com/live/html5/sales-product-source/8KCB.gif" alt="{{ $LM->name }}" />
                                </div>
                                <div class="card col-sm-12 col-lg-5 col-xl-6">
                                    <div class="card-header text-center">
                                        <h3 class="card-title"><b>{{ $LM->name }}</b></h3>
                                    </div>
                                    <div class="card-body">
                                        <p class="mb-0"><b>Position Used:</b> <br>
                                        <ul>
                                            @foreach(explode(',', $LM->positionused) as $pos)
                                            <li> {{ $pos }} </li>
                                            @endforeach
                                        </ul>
                                        </p>
                                        <p><b>Platform:</b> {{ $LM->platform }}</p>
                                        <p><b>Banner Type:</b> {{ $LM->typebanner }}</p>
                                        <p><b>Blocked Slot:</b> {{ $LM->blockedslot }}</p>
                                        <p><b>Methode buying:</b> {{ $LM->buying }}</p>
                                        <p class="mb-0"><b>Rules:</b> <br>
                                        <ul>
                                            @foreach(explode(';',$LM->rulesize) as $rule)
                                            @if (Str::contains($rule, ':'))
                                            <li> {{ $rule }} </li>
                                            @else
                                            {{ $rule }} </br>
                                            @endif
                                            @endforeach
                                        </ul>
                                        </p>
                                    </div>
                                    <div class="card-footer text-center">
                                        <a href="detail-banner?id={{ $LM->id }}&typebanner={{ $LM->typebanner }}&platform={{ $LM->platform }}" class="btn btn-warning text-center">See all details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                @endforeach
            </table>
        </div>

        <!-- 3in1 & BR -->
        <div class="accordion" id="highlight-banner">
            @include('partials/3in1-banner')

            @include('partials/brand-reminder')
        </div>

        <!-- Banner -->
        <div class="row" id="allbanner">
            <div class="col-md-12 mb-5">
                <div class="card rounded-7" style="background-color: lightsteelblue;">
                    <div class="card-body">
                        <!-- Tabs navs Each Platform -->
                        <ul class="nav nav-tabs nav-justified mb-3 rounded-6" id="ex1" role="tablist" style="background-color:white;">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="ex3-tab-1" data-mdb-toggle="tab" href="#ex3-tabs-1" role="tab" aria-controls="ex3-tabs-1" aria-selected="true"><i class="fa-solid fa-desktop"></i> Desktop</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="ex3-tab-2" data-mdb-toggle="tab" href="#ex3-tabs-2" role="tab" aria-controls="ex3-tabs-2" aria-selected="false"><i class="fa-solid fa-mobile-alt"></i> Mobile</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="ex3-tab-3" data-mdb-toggle="tab" href="#ex3-tabs-3" role="tab" aria-controls="ex3-tabs-3" aria-selected="false"><i class="fa-solid fa-mobile"></i> Apps</a>
                            </li>
                        </ul>
                        <!-- Tabs navs -->
                        <!-- Tabs content Each Platform -->
                        <div class="tab-content" id="ex2-content">
                            <div class="tab-pane fade show active" id="ex3-tabs-1" role="tabpanel" aria-labelledby="ex3-tab-1">
                                <div class="accordion" id="accordionDesktop">
                                    @foreach ($listposition->where('id_platform','1') as $listPD)
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="heading{{ $listPD->id_slot }}">
                                            <button class="accordion-button {{ $loop->first ? '' : 'collapsed' }}" type="button" data-mdb-toggle="collapse" data-mdb-target="#collapse{{ $listPD->id_slot }}" aria-expanded="true" aria-controls="collapse{{ $listPD->id_slot }}" value="{{ $listPD->id_slot }}" name="banneritem">
                                                {{ $listPD->slot_name }}
                                            </button>
                                        </h2>

                                        <div id="collapse{{ $listPD->id_slot }}" class="accordion-collapse collapse {{ $loop->first ? 'show' : '' }}" aria-labelledby="heading{{ $listPD->id_slot }}" data-mdb-parent="#accordionDesktop">
                                            <div class="accordion-body">
                                                <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4">
                                                    @foreach ($joinbanner->where('id_slot', $listPD->id_slot ) as $listJD)
                                                    <div class="col">
                                                        <div class="card h-100 rounded-7 jumping">
                                                            <a href="detail-banner?id={{ $listJD->id }}&typebanner={{ $listJD->typebanner }}&platform={{ $listJD->platform }}&id_slot={{ $listJD->id_slot }}" class="text-decoration-none" data-site="{{ $listJD->link_rules }}">
                                                                <img class="img-fluid rounded-7 rounded-bottom lazyload" data-src="{{ $listJD->image }}" src="../images/8KCB(16x9).gif" class="card-img-top" alt="{{ $listJD->name }}" />
                                                            </a>
                                                            <div class="card-footer">
                                                                <small class="text-muted">{{ $listJD->name }}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    @endforeach
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @endforeach
                                </div>
                            </div>

                            <div class="tab-pane fade" id="ex3-tabs-2" role="tabpanel" aria-labelledby="ex3-tab-2">
                                <div class="accordion" id="accordionMobile">
                                    @foreach ($listposition->where('id_platform','2') as $listPM)
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="heading{{ $listPM->id_slot }}">
                                            <button class="accordion-button {{ $loop->first ? '' : 'collapsed' }}" type="button" data-mdb-toggle="collapse" data-mdb-target="#collapse{{ $listPM->id_slot }}" aria-expanded="true" aria-controls="collapse{{ $listPM->id_slot }}" value="{{ $listPM->id_slot }}" name="banneritem">
                                                {{ $listPM->slot_name }}
                                            </button>
                                        </h2>

                                        <div id="collapse{{ $listPM->id_slot }}" class="accordion-collapse collapse {{ $loop->first ? 'show' : '' }}" aria-labelledby="heading{{ $listPM->id_slot }}" data-mdb-parent="#accordionMobile">
                                            <div class="accordion-body">
                                                <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4">
                                                    @foreach ($joinbanner->where('id_slot', $listPM->id_slot ) as $listJM)
                                                    <div class="col">
                                                        <div class="card h-100 rounded-7 jumping">
                                                            <a href="detail-banner?id={{ $listJM->id }}&typebanner={{ $listJM->typebanner }}&platform={{ $listJM->platform }}&id_slot={{ $listJM->id_slot }}" class="text-decoration-none" data-site="{{ $listJM->link_rules }}">
                                                                <img class="img-fluid rounded-7 rounded-bottom lazyload" data-src="{{ $listJM->image }}" src="https://cdnstatic.detik.com/live/html5/sales-product-source/8KCB.gif" class="card-img-top" alt="{{ $listJM->name }}" />
                                                            </a>
                                                            <div class="card-footer">
                                                                <small class="text-muted">{{ $listJM->name }}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    @endforeach
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @endforeach
                                </div>
                            </div>
                            <div class="tab-pane fade" id="ex3-tabs-3" role="tabpanel" aria-labelledby="ex3-tab-3">
                                <div class="accordion" id="accordionApps">
                                    @foreach ($listposition->where('id_platform','3') as $listPA)
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="heading{{ $listPA->id_slot }}">
                                            <button class="accordion-button {{ $loop->first ? '' : 'collapsed' }}" type="button" data-mdb-toggle="collapse" data-mdb-target="#collapse{{ $listPA->id_slot }}" aria-expanded="true" aria-controls="collapse{{ $listPA->id_slot }}" value="{{ $listPA->id_slot }}" name="banneritem">
                                                {{ $listPA->slot_name }}
                                            </button>
                                        </h2>


                                        <div id="collapse{{ $listPA->id_slot }}" class="accordion-collapse collapse {{ $loop->first ? 'show' : '' }}" aria-labelledby="heading{{ $listPA->id_slot }}" data-mdb-parent="#accordionApps">
                                            <div class="accordion-body">
                                                <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-4">
                                                    @foreach ($joinbanner->where('id_slot', $listPA->id_slot ) as $listJA)
                                                    <div class="col">
                                                        <div class="card h-100 rounded-7 jumping">
                                                            <a href="detail-banner?id={{ $listJA->id }}&typebanner={{ $listJA->typebanner }}&platform={{ $listJA->platform }}&id_slot={{ $listJA->id_slot }}" class="text-decoration-none" data-site="{{ $listJA->link_rules }}">
                                                                <img class="img-fluid rounded-7 rounded-bottom lazyload" data-src="{{ $listJA->image }}" src="https://cdnstatic.detik.com/live/html5/sales-product-source/8KCB.gif" class="card-img-top" alt="{{ $listJA->name }}" />
                                                            </a>
                                                            <div class="card-footer">
                                                                <small class="text-muted">{{ $listJA->name }}</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    @endforeach
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @endforeach
                                </div>
                            </div>
                        </div>
                        <!-- Tabs content -->
                    </div>
                </div>
            </div>
        </div>
        <center class="mb-5" id="empty-notice" style="display: none; height: 450px; padding-top: 45px;">
            <img class="mb-3" src="images/man-box.png" width="300">
            <p> No data match. <br> Please check again. </p>
        </center>
        </div>

        <script>
            lazyload();

            // SEARCH FUNCTION
            var input, filter, table, tr, td, i, txtValue, allbanner, seacrhM;

            function FunctionSearch() {
                input = document.getElementById("search-ms");
                allbanner = document.getElementById("allbanner");
                seacrhM = document.getElementById("seacrhM");
                filter = input.value.toUpperCase();
                table = document.getElementById("premium-tbl");
                highlight = document.getElementById("highlight-banner");
                tr = table.getElementsByTagName("tr");

                countData = 0;
                for (i = 0; i < tr.length; i++) {
                    td = tr[i].getElementsByTagName("td")[0];
                    if (td) {
                        txtValue = td.textContent || td.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            tr[i].style.display = "";
                            countData++;
                        } else {
                            tr[i].style.display = "none";
                        }

                        if (filter == '') {
                            allbanner.style.display = "";
                            highlight.style.display = "";
                            searchM.style.display = "none";
                            $('#empty-notice').hide();
                            // console.log('tidak search data');
                        } else if (countData == 0 && filter != '') {
                            allbanner.style.display = "none";
                            highlight.style.display = "none";
                            searchM.style.display = "none";
                            $('#empty-notice').show();
                            // console.log('data tidak ada dan search');
                        } else if (countData != 0 && filter != '') {
                            allbanner.style.display = "none";
                            highlight.style.display = "none";
                            searchM.style.display = "block";
                            $('#empty-notice').hide();
                            // console.log('data ada');
                        }
                    }
                }
            }
        </script>
    </main>
    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.js"></script>
</body>

</html>